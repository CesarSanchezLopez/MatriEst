<div class="container">
  <h2>ğŸ“˜ Formulario de inscripciÃ³n</h2>

  <div *ngIf="mensaje" class="alert success">{{ mensaje }}</div>
  <div *ngIf="error" class="alert error">{{ error }}</div>

  <div class="card">
    <h3>Materias disponibles</h3>
    <ul class="materia-list">
      <li *ngFor="let materia of materias">
        <label>
          <input type="checkbox"
                 [checked]="seleccionadas.includes(materia)"
                 (change)="toggleSeleccion(materia)">
          <span class="materia-nombre">{{ materia.nombre }}</span>
          <small class="profesor">({{ materia.profesorNombre }})</small>
        </label>
      </li>
    </ul>
    <button (click)="enviar()">âœ… Inscribirse</button>
  </div>

  <div class="card">
    <h3>ğŸ“š Materias ya inscritas</h3>
    <ul>
      <li *ngFor="let m of materiasInscritas">
        {{ m.nombre }} - {{ m.profesorNombre }}
          <button (click)="eliminarInscripcion(m.id)">âŒ Eliminar</button>
      </li>
    </ul>
  </div>

  <div class="card">
    <h3>ğŸ‘¥ CompaÃ±eros de clase</h3>
    <ul>
      <li *ngFor="let materia of materiasInscritas">
        <div class="materia-companeros">
          <strong>{{ materia.nombre }}</strong>
          <button (click)="verCompaneros(materia.id)">Ver compaÃ±eros</button>
        </div>
        <ul *ngIf="companerosPorMateria[materia.id]">
          <li *ngFor="let c of companerosPorMateria[materia.id]">{{ c }}</li>
        </ul>
      </li>
    </ul>
  </div>
</div>